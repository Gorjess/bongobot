# Created by 954860224@qq.com
# 依赖包详细说明

## 📦 依赖包分类

### 🎯 核心运行时依赖（用户必需）

| 包名 | 版本要求 | 用途 | 大小 | 必需性 |
|------|----------|------|------|--------|
| `pyautogui` | >=0.9.54 | 键盘鼠标自动化 | ~50MB | ✅ 必需 |
| `pydirectinput` | >=1.0.4 | 游戏输入模拟 | ~5MB | ✅ 必需 |
| `pywin32` | >=311 | Windows API调用 | ~30MB | ✅ 必需 |
| `opencv-python` | >=4.8.0 | 图像识别处理 | ~80MB | ✅ 必需 |
| `numpy` | >=1.24.0 | 数值计算 | ~20MB | ✅ 必需 |
| `Pillow` | >=11.0.0 | 图像处理 | ~10MB | ✅ 必需 |
| `PyYAML` | >=6.0.0 | 配置文件解析 | ~5MB | ✅ 必需 |

**总计：约 200MB**

### 🔧 包管理依赖（安装必需）

| 包名 | 版本要求 | 用途 | 必需性 |
|------|----------|------|--------|
| `setuptools` | >=45.0.0 | 包构建和安装 | ✅ 安装时必需 |
| `wheel` | >=0.37.0 | 现代包格式 | ✅ 安装时必需 |

### 🛠️ 开发专用依赖（用户不需要）

#### 测试框架
| 包名 | 版本要求 | 用途 | 运行时需要 |
|------|----------|------|------------|
| `pytest` | >=6.0.0 | 单元测试运行 | ❌ 不需要 |
| `pytest-cov` | >=2.0.0 | 测试覆盖率 | ❌ 不需要 |
| `pytest-mock` | >=3.0.0 | 模拟测试 | ❌ 不需要 |

#### 代码质量工具
| 包名 | 版本要求 | 用途 | 运行时需要 |
|------|----------|------|------------|
| `black` | >=22.0.0 | 代码格式化 | ❌ 不需要 |
| `flake8` | >=4.0.0 | 代码风格检查 | ❌ 不需要 |
| `isort` | >=5.0.0 | 导入排序 | ❌ 不需要 |
| `mypy` | >=0.900 | 类型检查 | ❌ 不需要 |

#### 文档和发布工具
| 包名 | 版本要求 | 用途 | 运行时需要 |
|------|----------|------|------------|
| `sphinx` | >=4.0.0 | 文档生成 | ❌ 不需要 |
| `sphinx-rtd-theme` | >=1.0.0 | 文档主题 | ❌ 不需要 |
| `build` | >=0.7.0 | 包构建 | ❌ 不需要 |
| `twine` | >=3.0.0 | PyPI上传 | ❌ 不需要 |

**开发工具总计：约 200MB+**

## 🎯 使用场景

### 场景一：普通用户
```bash
# 我只想运行 bongobot 程序
python quick_setup.py  # 选择基础环境
# 或
python scripts/setup_environment.py  # 选择 1

# 安装内容：
# ✅ 核心功能包（pyautogui, opencv等）
# ✅ 包管理工具（setuptools, wheel）
# ❌ 测试工具（pytest）
# ❌ 代码检查工具（black, flake8）
```

### 场景二：开发者
```bash
# 我要参与开发，需要运行测试、格式化代码
python scripts/setup_environment.py  # 选择 2

# 安装内容：
# ✅ 所有基础环境的包
# ✅ 测试框架（pytest）
# ✅ 代码质量工具（black, flake8, mypy）
# ✅ 文档生成工具（sphinx）
# ✅ 发布工具（build, twine）
```

### 场景三：CI/CD 环境
```bash
# 自动化测试和构建
pip install -r requirements-dev.txt

# 然后可以运行：
pytest                    # 运行测试
black --check bongobot/   # 检查代码格式
flake8 bongobot/         # 检查代码风格
mypy bongobot/           # 类型检查
python -m build          # 构建包
```

## 🔍 依赖关系图

```
bongobot 程序运行
    ├── pyautogui (键盘鼠标操作)
    ├── opencv-python (图像识别)
    │   └── numpy (数值计算)
    ├── Pillow (图像处理)
    ├── PyYAML (配置解析)
    ├── pydirectinput (游戏输入)
    └── pywin32 (Windows API)

开发环境额外需要
    ├── pytest (测试)
    ├── black (格式化)
    ├── flake8 (风格检查)
    ├── mypy (类型检查)
    └── sphinx (文档生成)
```

## 💡 最佳实践建议

### 对于不同用户：

1. **只想使用程序**
   - 选择基础环境
   - 节省空间和安装时间
   - 避免不必要的依赖冲突

2. **想要贡献代码**
   - 选择开发环境
   - 获得完整的开发工具链
   - 确保代码质量

3. **生产环境部署**
   - 使用基础环境
   - 最小化攻击面
   - 减少维护负担

## 🚀 快速决策

**问自己：**
- 我只是想运行这个程序吗？ → 选择基础环境
- 我要修改代码或运行测试吗？ → 选择开发环境
- 我不确定？ → 先选择基础环境，需要时再升级

**升级到开发环境：**
```bash
# 如果已经安装了基础环境，可以随时升级
pip install -r requirements-dev.txt
```

这样的设计让每个用户都能获得最适合自己需求的环境配置！🎉
